@model CommunityCar.Application.Features.Groups.ViewModels.GroupVM
@{
    ViewData["Title"] = $"{Model.Name} - Community Hub";
}

<div class="space-y-8 animate-in fade-in duration-700">
    <!-- Breadcrumb -->
    <nav class="flex items-center gap-3 text-[10px] font-black uppercase tracking-widest text-muted-foreground/60 px-2">
        <a href="@Url.Action("Index", "Groups")" class="hover:text-primary transition-colors flex items-center gap-2">
            <i data-lucide="chevron-left" class="w-3.5 h-3.5"></i> Hub Directory
        </a>
        <i data-lucide="chevron-right" class="w-3 h-3 opacity-30"></i>
        <span class="text-foreground">@Model.Name</span>
    </nav>

    <!-- Group Header -->
    <div class="bg-card/40 backdrop-blur-md border border-border rounded-2xl overflow-hidden shadow-xl">
        <div class="p-8">
            <div class="flex flex-col lg:flex-row gap-8">
                <div class="flex-1">
                    <div class="flex items-start gap-6 mb-6">
                        <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center font-black text-3xl text-primary-foreground shrink-0 shadow-lg shadow-primary/20">
                            @Model.Name.Substring(0, 1).ToUpper()
                        </div>
                        <div class="min-w-0 flex-1">
                            <div class="flex items-center gap-3 mb-2">
                                <h1 class="text-3xl font-black text-foreground tracking-tight">@Model.Name</h1>
                                @if (Model.IsOfficial)
                                {
                                    <i data-lucide="badge-check" class="w-6 h-6 text-red-500 fill-red-500/10" title="Official Hub"></i>
                                }
                                else if (Model.IsVerified)
                                {
                                    <i data-lucide="shield-check" class="w-6 h-6 text-green-500 fill-green-500/10" title="Verified Community"></i>
                                }
                            </div>
                            <div class="flex items-center flex-wrap gap-3 mb-4">
                                <span class="inline-flex items-center gap-2 text-xs font-black uppercase tracking-tighter text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-lg border border-border/30">
                                    <i data-lucide="tag" class="w-3 h-3"></i>
                                    @Model.Category
                                </span>
                                @if (!string.IsNullOrEmpty(Model.Location))
                                {
                                    <span class="inline-flex items-center gap-2 text-xs font-black uppercase tracking-tighter text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-lg border border-border/30">
                                        <i data-lucide="map-pin" class="w-3 h-3 text-red-500/60"></i>
                                        @Model.Location
                                    </span>
                                }
                                <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-background/50 border border-border text-xs font-black uppercase tracking-tighter text-muted-foreground shadow-sm">
                                    <i data-lucide="@(Model.Privacy.ToString() == "Public" ? "globe" : "lock")" class="w-3 h-3"></i>
                                    @Model.Privacy.ToString() Hub
                                </span>
                            </div>
                            <p class="text-muted-foreground leading-relaxed font-medium opacity-80">@Model.Description</p>
                        </div>
                    </div>

                    @if (Model.Tags.Any())
                    {
                        <div class="flex flex-wrap gap-2 mb-6">
                            @foreach (var tag in Model.Tags)
                            {
                                <span class="text-xs font-bold text-primary bg-primary/5 px-3 py-1.5 rounded-lg border border-primary/10">#@tag</span>
                            }
                        </div>
                    }

                    @if (!string.IsNullOrEmpty(Model.Rules))
                    {
                        <div class="bg-muted/20 border border-border/30 rounded-xl p-4">
                            <h3 class="text-sm font-black text-foreground mb-2 flex items-center gap-2">
                                <i data-lucide="scroll-text" class="w-4 h-4"></i>
                                Community Guidelines
                            </h3>
                            <p class="text-sm text-muted-foreground font-medium">@Model.Rules</p>
                        </div>
                    }
                </div>

                <div class="lg:w-80 space-y-6">
                    <!-- Join Button -->
                    <form method="post" action="@Url.Action("Join", "Groups", new { id = Model.Id })">
                        @Html.AntiForgeryToken()
                        <button type="submit" class="w-full px-8 py-4 bg-primary text-primary-foreground hover:bg-primary/90 rounded-2xl font-black text-sm uppercase tracking-widest transition-all shadow-lg shadow-primary/20 active:scale-95 flex items-center justify-center gap-3">
                            <i data-lucide="user-plus" class="w-5 h-5"></i>
                            Join Community
                        </button>
                    </form>

                    <!-- Stats -->
                    <div class="bg-muted/20 border border-border/30 rounded-xl p-6 space-y-4">
                        <h3 class="text-sm font-black text-foreground mb-4 flex items-center gap-2">
                            <i data-lucide="bar-chart-3" class="w-4 h-4"></i>
                            Hub Statistics
                        </h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="text-center">
                                <div class="text-2xl font-black text-foreground tabular-nums">@(Model.MemberCount >= 1000 ? $"{Model.MemberCount / 1000.0:F1}k" : Model.MemberCount.ToString())</div>
                                <div class="text-xs font-black uppercase tracking-widest text-muted-foreground opacity-60">Members</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-black text-foreground tabular-nums">@(Model.PostCount >= 1000 ? $"{Model.PostCount / 1000.0:F1}k" : Model.PostCount.ToString())</div>
                                <div class="text-xs font-black uppercase tracking-widest text-muted-foreground opacity-60">Posts</div>
                            </div>
                        </div>
                        <div class="pt-4 border-t border-border/20">
                            <div class="text-center">
                                <div class="text-sm font-black text-muted-foreground">Created</div>
                                <div class="text-xs text-muted-foreground opacity-60">@Model.CreatedAt.ToString("MMMM dd, yyyy")</div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="space-y-3">
                        <a href="#" class="w-full px-6 py-3 bg-background border border-border hover:border-primary hover:text-primary rounded-xl font-black text-xs uppercase tracking-widest transition-all shadow-sm active:scale-95 flex items-center justify-center gap-2">
                            <i data-lucide="message-square" class="w-4 h-4"></i>
                            View Posts
                        </a>
                        <a href="#" class="w-full px-6 py-3 bg-background border border-border hover:border-primary hover:text-primary rounded-xl font-black text-xs uppercase tracking-widest transition-all shadow-sm active:scale-95 flex items-center justify-center gap-2">
                            <i data-lucide="users" class="w-4 h-4"></i>
                            View Members
                        </a>
                        <a href="#" class="w-full px-6 py-3 bg-background border border-border hover:border-primary hover:text-primary rounded-xl font-black text-xs uppercase tracking-widest transition-all shadow-sm active:scale-95 flex items-center justify-center gap-2">
                            <i data-lucide="share-2" class="w-4 h-4"></i>
                            Share Hub
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="bg-card/40 backdrop-blur-md border border-border rounded-2xl p-8 shadow-xl">
        <h2 class="text-xl font-black text-foreground mb-6 flex items-center gap-3">
            <i data-lucide="activity" class="w-5 h-5"></i>
            Recent Activity
        </h2>
        <div class="text-center py-12">
            <div class="w-16 h-16 bg-muted/40 rounded-full flex items-center justify-center mb-4 mx-auto">
                <i data-lucide="message-square" class="w-8 h-8 text-muted-foreground opacity-30"></i>
            </div>
            <p class="text-muted-foreground font-medium">No recent activity to display</p>
            <p class="text-sm text-muted-foreground opacity-60 mt-1">Be the first to start a conversation!</p>
        </div>
    </div>
</div>
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer
@{
    ViewData["Title"] = Localizer["PageTitle"];
    ViewData["HideLeftSidebar"] = true;
    ViewData["HideRightSidebar"] = true;
    ViewData["HideMainContainer"] = true;
    ViewData["HideMainContentId"] = true;
}

<div class="container-fluid py-4 animate-in fade-in">
    <!-- Grid Layout with Sidebar -->
    <div class="row g-4">
        <!-- Left Sidebar -->
        <div class="col-12 col-lg-3">
            <partial name="~/Views/Account/Profile/_ProfileSidebar.cshtml" />
        </div>
        
        <!-- Main Content Area -->
        <div class="col-12 col-lg-9">
            <div class="vstack gap-4">
                <!-- Tab Navigation -->
                <partial name="~/Views/Account/Profile/_ProfileNavigation.cshtml" />

                <!-- Interests Content Card -->
                <div class="card card-premium border-0 shadow-lg overflow-hidden rounded-4">
                    <div class="card-body p-4 p-md-5">
                        <!-- Header -->
                        <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-4 mb-5 pb-4 border-bottom border-light">
                            <div>
                                <h1 class="h3 fw-black text-dark tracking-tighter mb-1 d-flex align-items-center gap-3">
                                    <i class="fas fa-heart text-primary-red"></i>
                                    @Localizer["MyInterests"]
                                </h1>
                                <p class="small text-muted fw-bold mb-0">@Localizer["InterestsSubtitle"]</p>
                            </div>
                        </div>

                        <div class="row g-4">
                            <div class="col-12 col-lg-8">
                                <!-- Top Interests Grid -->
                                <div class="bg-light bg-opacity-50 border border-light rounded-4 p-4 p-md-5 mb-4">
                                    <h3 class="xx-small fw-black text-dark text-uppercase tracking-widest mb-4 d-flex align-items-center gap-3">
                                        <i class="fas fa-star text-primary-red"></i>
                                        @Localizer["TopInterests"]
                                    </h3>
                                    <div id="interests-list-container" class="min-h-200 d-flex align-items-center justify-content-center">
                                        <div class="spinner-border text-primary-red" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Analytics Matrix -->
                                <div class="bg-light bg-opacity-50 border border-light rounded-4 p-4 p-md-5">
                                    <h3 class="xx-small fw-black text-dark text-uppercase tracking-widest mb-4 d-flex align-items-center gap-3">
                                        <i class="fas fa-chart-line text-primary-red"></i>
                                        @Localizer["InterestAnalytics"]
                                    </h3>
                                    <div class="row g-3">
                                        <div class="col-6 col-md-3">
                                            <div class="bg-white p-4 rounded-3 text-center shadow-sm">
                                                <div class="h3 fw-black text-dark mb-1" id="totalInterests">-</div>
                                                <div class="xx-small fw-black text-muted text-uppercase tracking-widest opacity-50">@Localizer["Total"]</div>
                                            </div>
                                        </div>
                                        <div class="col-6 col-md-3">
                                            <div class="bg-white p-4 rounded-3 text-center shadow-sm">
                                                <div class="h3 fw-black text-dark mb-1" id="engagementScore">-</div>
                                                <div class="xx-small fw-black text-muted text-uppercase tracking-widest opacity-50">@Localizer["Score"]</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-4">
                                <!-- Suggested Interests -->
                                <div class="card card-premium-subtle bg-white border-light border-opacity-50 rounded-4 p-4 shadow-sm h-100">
                                    <h3 class="xx-small fw-black text-dark text-uppercase tracking-widest mb-4 d-flex align-items-center gap-3">
                                        <i class="fas fa-lightbulb text-primary-red"></i>
                                        @Localizer["Suggested"]
                                    </h3>
                                    <div id="suggestedInterests" class="vstack gap-2">
                                        <div class="d-flex align-items-center justify-content-center py-5">
                                            <div class="spinner-border spinner-border-sm text-primary-red" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .xx-small { font-size: 0.6rem; }
    .min-h-200 { min-height: 200px; }
    .card-premium-subtle { border: 1px solid rgba(0,0,0,0.05); }
    .hover-translate-x:hover { transform: translateX(5px); }
</style>

@section Scripts {
    <script src="~/js/modules/profile/interests-controller.js" asp-append-version="true"></script>
}
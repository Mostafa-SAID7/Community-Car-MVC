@using CommunityCar.Application.Features.Account.ViewModels.Activity
@model WhoViewedMyProfileVM
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer
@{
    ViewData["Title"] = Localizer["WhoViewedMyProfile"];
    ViewData["HideLeftSidebar"] = true;
    ViewData["HideRightSidebar"] = true;
    ViewData["HideMainContainer"] = true;
    ViewData["HideMainContentId"] = true;
}

<div class="container-fluid py-4 animate-in fade-in">
    <!-- Grid Layout with Sidebar -->
    <div class="row g-4">
        <!-- Left Sidebar -->
        <div class="col-12 col-lg-3">
            <partial name="~/Views/Account/Profile/_ProfileSidebar.cshtml" />
        </div>
        
        <!-- Main Content Area -->
        <div class="col-12 col-lg-9">
            <div class="vstack gap-4">
                <!-- Breadcrumb/Nav -->
                <nav class="d-flex align-items-center gap-2 xx-small fw-black text-uppercase tracking-widest text-muted px-2">
                    <a href="@Url.Action("Index", "Profile")" class="text-decoration-none text-muted hover-text-primary-red transition-all d-flex align-items-center gap-1">
                        <i class="fas fa-chevron-left small"></i> @Localizer["Profile"]
                    </a>
                    <span class="opacity-20">/</span>
                    <span class="text-dark opacity-50">@Localizer["ProfileViews"]</span>
                </nav>

                <!-- Profile Views Content -->
                @await Html.PartialAsync("_WhoViewedMyProfileContent", Model)
            </div>
        </div>
    </div>
</div>

<style>
    .xx-small { font-size: 0.6rem; }
    .hover-text-primary-red:hover { color: var(--primary-red) !important; }
</style>

@section Scripts {
    <script>
        function followUser(userId) {
            console.log('Following user:', userId);
            // This should ideally call the same toggleFollow logic as in FollowList
        }
    </script>
}